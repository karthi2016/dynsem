module utils

imports
  stratego/metaborg
  backend/java-backend/utils/java-utils

rules
  
  init-options(|path, project-path) =
    rules(
      AutoPackageName: _ -> $[[<language>].generated.interpreter]
      ManuPackageName: _ -> $[[<language>].manual.interpreter]
      CurrentFilePath: _ -> path
      ProjectPath: _ -> project-path
      GenDir: _ -> $[[project-path]/src-gen/ds-java]
    )

  write-classes = emit-java-classes(overwrite-merge-strategy, id | <AutoPackageName>, <GenDir>)

