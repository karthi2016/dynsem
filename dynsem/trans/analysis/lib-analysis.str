module analysis/lib-analysis

imports
  include/ds


rules
  
  new-scope(s|namespace) = {|
    Renames: s
  |}
  
  rename(|namespace):
    name -> name'
    where
      <Renames> (namespace, name) => name'
  
  rename(|namespace):
    name -> name'
    where
      <not(Renames)> (namespace, name)
    with
      name' := <newname> name;
      rules(Renames:+ (namespace, name) -> name')


